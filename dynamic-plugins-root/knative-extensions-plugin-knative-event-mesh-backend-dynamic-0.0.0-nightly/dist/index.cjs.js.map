{"version":3,"file":"index.cjs.js","sources":["../src/dynamic/index.ts"],"sourcesContent":["import {BackendDynamicPluginInstaller} from '@backstage/backend-dynamic-feature-service';\nimport {CatalogClient} from \"@backstage/catalog-client\";\n\nimport {KnativeEventMeshProcessor, KnativeEventMeshProvider} from '../providers';\n\nexport const dynamicPluginInstaller:BackendDynamicPluginInstaller = {\n    kind: 'legacy',\n    async catalog(builder:any, env:any) {\n        const knativeEventMeshProviders = KnativeEventMeshProvider.fromConfig(env.config, {\n            logger: env.logger,\n            scheduler: env.scheduler,\n        });\n        builder.addEntityProvider(knativeEventMeshProviders);\n\n        const catalogApi = new CatalogClient({\n            discoveryApi: env.discovery,\n        });\n\n        const knativeEventMeshProcessor = new KnativeEventMeshProcessor(catalogApi, env.logger);\n        builder.addProcessor(knativeEventMeshProcessor);\n    },\n};\n"],"names":["KnativeEventMeshProvider","CatalogClient","knativeEventMeshProcessor","KnativeEventMeshProcessor"],"mappings":";;;;;;;;;AAKO,MAAM,sBAAuD,GAAA;AAAA,EAChE,IAAM,EAAA,QAAA;AAAA,EACN,MAAM,OAAQ,CAAA,OAAA,EAAa,GAAS,EAAA;AAChC,IAAA,MAAM,yBAA4B,GAAAA,kDAAA,CAAyB,UAAW,CAAA,GAAA,CAAI,MAAQ,EAAA;AAAA,MAC9E,QAAQ,GAAI,CAAA,MAAA;AAAA,MACZ,WAAW,GAAI,CAAA,SAAA;AAAA,KAClB,CAAA,CAAA;AACD,IAAA,OAAA,CAAQ,kBAAkB,yBAAyB,CAAA,CAAA;AAEnD,IAAM,MAAA,UAAA,GAAa,IAAIC,2BAAc,CAAA;AAAA,MACjC,cAAc,GAAI,CAAA,SAAA;AAAA,KACrB,CAAA,CAAA;AAED,IAAA,MAAMC,2BAA4B,GAAA,IAAIC,mDAA0B,CAAA,UAAA,EAAY,IAAI,MAAM,CAAA,CAAA;AACtF,IAAA,OAAA,CAAQ,aAAaD,2BAAyB,CAAA,CAAA;AAAA,GAClD;AACJ;;;;;;"}